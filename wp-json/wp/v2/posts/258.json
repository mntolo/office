{"id":258,"date":"2016-11-21T10:06:53","date_gmt":"2016-11-21T10:06:53","guid":{"rendered":"https:\/\/alka-web.com\/wp\/?p=258"},"modified":"2021-03-26T04:25:06","modified_gmt":"2021-03-26T04:25:06","slug":"use-slack-along-with-wordpress-woffice","status":"publish","type":"post","link":"https:\/\/woffice.io\/use-slack-along-with-wordpress-woffice\/","title":{"rendered":"Use Slack with WordPress and Woffice to boost your productivity"},"content":{"rendered":"<p>Today, we will discuss here how we can use the well known\u00a0application <a href=\"https:\/\/slack.com\/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Slack<\/a>\u00a0along with WordPress and\u00a0the <a href=\"https:\/\/woffice.io\/\" target=\"_blank\" rel=\"noopener noreferrer\">Woffice<\/a>\u00a0theme. Slack has over 5.8 million active users and powers communication in more than 60 000 teams around the world (<a href=\"http:\/\/expandedramblings.com\/index.php\/slack-statistics\/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">source<\/a>). Yet,\u00a0we won&#8217;t go through all Slack&#8217;s milestones here. Just to say it&#8217;s a very used tool and it provides a very good way to get rid of emails. Certainly\u00a0why everyone love it!<br \/>\nFurthermore, the biggest advantage of Slack is the ability to add 3rd-party applications in order to stay tuned about pretty much any application related to your business. Over <strong>150 integrations<\/strong> actually on <a href=\"https:\/\/slack.com\/apps\" target=\"_blank\" rel=\"noopener noreferrer\">their apps directory<\/a>, all for free.<br \/>\nSo, what about we receive live notifications from our WordPress intranet\/extranet right into our Slack channels? Sounds cool. Well, we&#8217;ve done it with Woffice and I will show you how to set it up in 5 minutes.<\/p>\n<h2>How to set it up?<\/h2>\n<p>We assume, you have WordPress set up on your side\u00a0with the <a href=\"https:\/\/woffice.io\/\" target=\"_blank\" rel=\"noopener noreferrer\">Woffice theme<\/a> installed. That&#8217;s all you need, with\u00a0a Slack account, of course.<br \/>\nFirst, we have to activate the <strong>Woffice Slack extension<\/strong> from Woffice (or Unyson page) &gt; Extensions:<br \/>\n<img loading=\"lazy\" class=\"aligncenter wp-image-261 size-full\" title=\"Woffice Slack along with WordPess extension\" src=\"https:\/\/alka-web.com\/wp\/wp-content\/uploads\/2016\/11\/1.jpg\" alt=\"1\" width=\"1275\" height=\"664\" \/><br \/>\nSecondly, we need to create our own Slack app in order to create a connection between your WordPress Intranet and your Slack\u00a0team account. For this, you have to click\u00a0the &#8220;<strong>Settings<\/strong>&#8221; link to go on the extension&#8217;s settings page. You can see now a &#8220;Create a new application&#8221; link that will lead you to <a href=\"https:\/\/api.slack.com\/apps\" target=\"_blank\" rel=\"noopener noreferrer\">the right place<\/a>.<br \/>\nClick on &#8220;<strong>Create New App<\/strong>&#8221; and fill in the form, everything can be changed later. You should see:<br \/>\n&nbsp;<br \/>\n<img loading=\"lazy\" class=\"alignnone wp-image-264 size-full\" title=\"Create application Slack\" src=\"https:\/\/alka-web.com\/wp\/wp-content\/uploads\/2016\/11\/2-1.jpg\" alt=\"2\" width=\"1276\" height=\"668\" \/><br \/>\nThen, once you application created, you&#8217;ll get a <strong>client ID<\/strong> and a <strong>client Secret<\/strong>. You need to copy\/past those two fields in the extension&#8217;s settings back on Woffice:<br \/>\n<img loading=\"lazy\" class=\"alignnone wp-image-265 size-full\" title=\"Client ID and Secret\" src=\"https:\/\/alka-web.com\/wp\/wp-content\/uploads\/2016\/11\/Unyson_\u2039_Woffice_Dev_\u2014_WordPress.jpg\" alt=\"unyson__woffice_dev_-_wordpress\" width=\"995\" height=\"553\" \/><br \/>\nLast but not least, you need to copy\/past the<strong> Call Back URL<\/strong> from the Woffice extension&#8217;s settings to the Slack &gt;\u00a0<strong>OAuth &amp; Permissions &gt; Redirect URL<\/strong> input field:<br \/>\n<img loading=\"lazy\" class=\"alignnone wp-image-266 size-full\" title=\"Slack callback URL\" src=\"https:\/\/alka-web.com\/wp\/wp-content\/uploads\/2016\/11\/3.jpg\" alt=\"3\" width=\"1275\" height=\"675\" \/><br \/>\nYou can add your own icon to your Slack boat.<br \/>\nDon&#8217;t forget to save everything. At this point we have a new application on Slack, which is a good start!<br \/>\nThirdly, we need to assign our notifications to a Slack channel trough our brand new application. We can do that by going to the &#8220;<strong>Slack Notifications<\/strong>&#8221; tab on the extension&#8217;s settings page.<br \/>\nThus, we can see a pretty sweet &#8220;<strong>Add to Slack<\/strong>&#8221; button, well we can click on it so we can choose on which channel will the notifications be published. Once this button clicked, you need to Authorize\u00a0access to one your Slack team. Then, you can select a channel from the &#8220;<strong>Post to<\/strong>&#8221; option. See:<img loading=\"lazy\" class=\"alignnone wp-image-267 size-full\" title=\"Add to Slack button\" src=\"https:\/\/alka-web.com\/wp\/wp-content\/uploads\/2016\/11\/4.jpg\" alt=\"4\" width=\"1278\" height=\"667\" \/><br \/>\nYou can now choose the triggers that will push notifications from WordPress to your Slack channel.<br \/>\nWe&#8217;re ready to go! Whenever an action (that you&#8217;ve enabled on the above form) is triggered on your Intranet, it&#8217;ll be sent in real time on your Slack channel. So you can keep all your data in one place, saving time and improving your team communication.<br \/>\nNote that we&#8217;ve added\u00a05 triggers so far, but we&#8217;ll add more in the coming updates. Just let us know your thoughts if you have any idea.<br \/>\nThe available triggers (<em>Woffice 2.2.0<\/em>) are whenever a new:<\/p>\n<ul>\n<li>Comment is posted<\/li>\n<li>User is registered (or added by an administrator)<\/li>\n<li>BuddyPress activity (only if the activity is public)<\/li>\n<li>Post (whether it is a blog post, page, project, wiki, product, directory item&#8230;)<\/li>\n<li>Task on a project<\/li>\n<\/ul>\n<h2>Going one step further and create your own notification<\/h2>\n<p>The best part is that once the Slack extension enabled on your site and working. Woffice comes with a helper function\u00a0to manage all the dirty API code for you. One single function to use anywhere in your Intranet\/Extranet to post sweet Slack notifications that you can customize in a matter of minutes.<br \/>\nHowever, we assume here that you&#8217;ve PHP skills (you don&#8217;t need to be an expert here).<br \/>\nThe function is defined in <strong>woffice\/framework-customizations\/extensions\/woffice-slack\/helpers.php<\/strong> and can be used like this:<\/p>\n<pre>\/\/ Our notification data:\n$notification = array(\n    'title' =&gt; 'Hey I\\'m the title',\n    'title_link' =&gt; 'Link to your site or any page', \/\/ like: get_site_url()\n    'pretext' =&gt; 'Just above the title',\n    'text' =&gt; 'Text content',\n);\n\/\/ Let's send our notification to our Slack channel\nwoffice_slack_send_notification($notification)\n<\/pre>\n<p>Although, if you try that PHP code in your child theme, it&#8217;ll work right out of the box but there are 2 important points:<\/p>\n<ol>\n<li>Slack API is rich! The <strong>$notification<\/strong> array will be passed as a Slack attachment, see<strong> <a href=\"https:\/\/api.slack.com\/docs\/message-attachments\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">their documentation<\/a><\/strong> for all details. So you can add\u00a0images, author name, icons, buttons&#8230;<\/li>\n<li><strong>You must call<\/strong> woffice_slack_send_notification under an <a href=\"https:\/\/developer.wordpress.org\/reference\/functions\/add_action\/\" target=\"_blank\" rel=\"noopener noreferrer\">add_action() callback function<\/a> (see next example). So your notification is triggered on a certain event and not whenever you page is loaded.<\/li>\n<\/ol>\n<h2>Developer example: Contact Form 7 Slack integration<\/h2>\n<p>Finally, we&#8217;ll see now an example with the Contact Form 7 plugin. We&#8217;re using the default contact form but you can adapt with your own settings.<\/p>\n<pre>\/**\n * Trigger a notification whenever an email is being sent\n * through a Contact Form 7 form\n * Note that :mail: &amp; :bust_in_silhouette: are Emojies used by Slack\n * @param $contact_form : WPCF7_ContactForm\n *\/\nfunction woffice_slack_hook_cf7($contact_form) {\n    \/\/ We get the form title:\n    $title = $contact_form-&gt;title();\n    \/\/ We get the current submission\n    $submission = WPCF7_Submission::get_instance();\n    if ( $submission ) {\n        \/\/ We get the submission data:\n        $posted_data = $submission-&gt;get_posted_data();\n        \/\/ We build our notification array:\n        $notification = array(\n            'title' =&gt; $posted_data['your-subject'],\n            'title_link' =&gt; get_admin_url(),\n            'pretext' =&gt; ':mail: ' . __('New form submission on', 'woffice') . ' ' . $title,\n            'text' =&gt; $posted_data['your-message'],\n            'fields' =&gt; array(\n                array(\n                    'title' =&gt; ':bust_in_silhouette: ' . __('Sent by', 'woffice'),\n                    'value' =&gt; $posted_data['your-email'],\n                    'short' =&gt; true\n                )\n            )\n        );\n        \/\/ We push the notification to Slack\n        woffice_slack_send_notification($notification);\n    }\n}\nadd_action('wpcf7_mail_sent', 'woffice_slack_hook_cf7');<\/pre>\n<p>It&#8217;s just an example, you can do that with your favourite plugins, as long as they&#8217;re well documented. Building your custom notifications will be very easy.<br \/>\nWe&#8217;re really looking forward to add more integrations, let us know your ideas.<br \/>\n&nbsp;<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Today, we will discuss here how we can use the well known\u00a0application Slack\u00a0along with WordPress and\u00a0the Woffice\u00a0theme. Slack has over 5.8 million active users and powers communication in more than 60 000 teams around the world (source). Yet,\u00a0we won&#8217;t go [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":260,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[7],"tags":[11,10],"_links":{"self":[{"href":"https:\/\/woffice.io\/wp-json\/wp\/v2\/posts\/258"}],"collection":[{"href":"https:\/\/woffice.io\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/woffice.io\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/woffice.io\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/woffice.io\/wp-json\/wp\/v2\/comments?post=258"}],"version-history":[{"count":1,"href":"https:\/\/woffice.io\/wp-json\/wp\/v2\/posts\/258\/revisions"}],"predecessor-version":[{"id":5676,"href":"https:\/\/woffice.io\/wp-json\/wp\/v2\/posts\/258\/revisions\/5676"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/woffice.io\/wp-json\/wp\/v2\/media\/260"}],"wp:attachment":[{"href":"https:\/\/woffice.io\/wp-json\/wp\/v2\/media?parent=258"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/woffice.io\/wp-json\/wp\/v2\/categories?post=258"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/woffice.io\/wp-json\/wp\/v2\/tags?post=258"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}